<!Doctype html>
<html>
<head>
<title>Socket.IO chat</title>
<script src="/socket.io/socket.io.js"></script>
<script src="https://code.jquery.com/jquery-1.11.1.js"></script>
<link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
<script src="socket.io-stream.js"></script>
<script src='client.js'></script>
<link rel='stylesheet' href='index.css'>
<link rel="icon" href="/favicon.gif" type="image/gif">
</head>
<body>
		<div id="blurry">
				<div id="tabs">
						<span id="left">
								<ul id="contacts">
										<li><a href="#tabs-1">Global</a></li>
								</ul>
						</span>
						<div id="chatBodyContainer">
								<span id="chatBody">
										<div id="tabs-1">
												<ul id="messages"></ul>
										</div>
										<input type="file" id="fileElem" accept="audio/*,video/*,image/*">
								</span>
								<div id="dropOverlay">
										<div id="dropHere">Drop Files Here</div>
								</div>
						</div>
				</div>
				<span id="chatInput">
						<form id="messageInput" action="">
								<input id="m" autocomplete="off">
								<button id="sendBtn">Send</button>
						</form>
				</span>
		</div>

		<div id="overlay">I'm Overlay</div>
		<table id="regOverlay">
				<tr>
						<td style="text-align: center; vertical-align: middle;">
								<div id="container" class="container">
										<form id="registration" class="chatDataForm" action="">
												<input id="regInput" class="regField" type="text" placeholder="Enter username" pattern="(?!^Global$)(?!^.* $)\w[ \w]*" required>
												<input id="passwd" class="regField" type="password" placeholder="Enter password" pattern="(?:(?=.*[A-Z])(?=.*[a-z])(?=.*\d)(?=.*\W)).{8,}" autocomplete="off" required>
												<div style="width:90%;margin: auto;text-align: left;">
														<img id="profilePreview" src="profile-256.jpg" style="float: left;">
														<div>
																<span>Upload profile picture</span>
																<input id="profilePicker" type="file" accept="image/*">
																<button id="captureWebcam" type="button">Capture from webcam</button>
														</div>
												</div>
												<input id="submitBtn" class="submitBtns" type="submit" value="submit" style="display: none;">
										</form>
										<div id="regLabel">Registration</div>
										<div id="lower" style="clear:left;">
												<a href="javascript:void(0)" id="toLogin" class="pseudoLink">Already registered? Click here to get to the login screen</a>
												<div id='errorMessage'></div>
										</div>
								</div>
								<div id="loginContainer" class="container" style="display:none;">
										<form id="login" class="chatDataForm" action="">
												<input id="logInput" class="regField" type="text" placeholder="Enter username" pattern="\w+" required>
												<input id="loginPasswd" class="regField" type="password" placeholder="Enter password" pattern="(?=.*[A-Z])(?=.*[a-z])(?=.*[0-9])(?=.*\W).{8,}" autocomplete="off" required>
												<input id="submitBtnLogin" class="submitBtns" type="submit" value="submit">
										</form>
										<div id="regLabel">Login</div>
										<div id="lower" style="clear:left;">
												<a href="javascript:void(0)" id="toRegistration" class="pseudoLink">Not registered yet? Click here to get to the registration screen</a>
												<div id='errorMessage'></div>
										</div>
								</div>
						</td>
				</tr>
		</table>
		<div id="videoOverlay" style="display:none; position: fixed; width: 100%; height:100%; z-index:1000; top: 0">
				<div style="margin:auto; text-align:center;">
						<video autoplay="true" id="webcamPreview" style="display: block; margin: auto;background: url(profile-256.jpg)"></video>
						<button id="takeSnapshot">take snap</button>
						<button id="stopWebcam">Stop</button>
				</div>
				<canvas id="profileCanvas" width="256" height="256" style="display:none;"></canvas>
		</div>
		<div id='loadingOverlay'>
				<div id='loadingInnerFancy'>
						<span style="display: table;width: 100%;height: 100%;">
								<span style="display: table-cell;vertical-align: middle;">
										<h1 id="loadingText" style='text-align:center'>Loading...</h1>
								</span>
						</span>
				<div>
		</div>
</body>
</html>
